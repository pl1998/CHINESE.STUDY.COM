import{_ as C}from"./App-a350d025.js";import{r as p,x as $,h as E,l as j,y as N,o as n,c as P,w as B,g as F,a as r,b as x,d as b,j as c,m,F as y,t as g,k as _,s as V}from"./app-93d07eef.js";import{_ as M}from"./Banner-19aae970.js";const T={class:"bg-white pt-[112px]"},A={class:"w-full"},D={class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 py-8 px-4"},H=["onClick"],O=["src"],S={class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-40 flex flex-col items-center justify-center text-white text-center px-4 transition-all duration-300"},q={class:"text-2xl font-bold mb-2"},z={key:0,class:"text-sm flex items-center"},I={key:1,class:"text-base font-semibold opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300"},L=["src"],R={class:"max-w-4xl mx-auto flex justify-center items-center gap-2 py-8"},G=["disabled"],J=["disabled"],K=["onClick"],Q=["disabled"],U=["disabled"],Z={__name:"Practice",props:{config:{type:Object,required:!0}},setup(h){const v=p([]),o=p({current_page:1,last_page:1,per_page:6,total:0}),l=$({}),u=p(null),f=async(a=1)=>{const e=await F.get(`/api/course-practices?page=${a}&per_page=${o.value.per_page}`);v.value=e.data.data,o.value={current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page,total:e.data.total}};E(()=>f());const d=a=>{a<1||a>o.value.last_page||f(a)},k=a=>{Object.keys(l).forEach(s=>{l[s]&&s!=a&&(l[s].pause(),l[s].currentTime=0)});const e=l[a];e&&(u.value===a?(e.pause(),u.value=null):(e.play().catch(s=>{console.error("Error playing audio:",s)}),u.value=a))},w=j(()=>{const a=o.value.last_page,e=o.value.current_page;if(a<=7)return Array.from({length:a},(t,i)=>i+1);const s=[];e>3&&s.push(1),e>4&&s.push("...");for(let t=Math.max(1,e-1);t<=Math.min(a,e+1);t++)s.push(t);return e<a-3&&s.push("..."),e<a-2&&s.push(a),s});return(a,e)=>{const s=N("font-awesome-icon");return n(),P(C,{config:h.config},{default:B(()=>[r("div",T,[r("div",A,[x(M,{imageSrc:"/images/banner/pratice.jpg",alt:"Practice Banner"})]),e[6]||(e[6]=r("div",{class:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-8 px-4"},[r("div",{class:"w-full bg-[#f7f7f7] py-2 px-4 text-sm text-gray-600"},[b(" Home >> "),r("span",{class:"text-[#009FE8]"},"1Daily Practice")])],-1)),r("div",D,[(n(!0),c(y,null,m(v.value,t=>(n(),c("div",{key:t.id,class:"relative group border-2 border-white hover:border-[#009FE8] transition rounded block cursor-pointer overflow-hidden",onClick:i=>k(t.id)},[r("img",{src:t.cover,alt:"cover",class:"w-full h-56 object-cover rounded transition-transform duration-300 group-hover:scale-105"},null,8,O),r("div",S,[r("div",q,g(t.name),1),u.value===t.id?(n(),c("div",z,[x(s,{icon:["fas","volume-up"],class:"mr-1"}),e[5]||(e[5]=b(" 正在播放... "))])):_("",!0),t.description?(n(),c("div",I,g(t.description),1)):_("",!0)]),t.audio?(n(),c("audio",{key:0,ref_for:!0,ref:i=>{i?l[t.id]=i:delete l[t.id]},src:t.audio,onEnded:e[0]||(e[0]=i=>u.value=null),style:{display:"none"}},null,40,L)):_("",!0)],8,H))),128))]),r("div",R,[r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:o.value.current_page===1,onClick:e[1]||(e[1]=t=>d(1))},"Home",8,G),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:o.value.current_page===1,onClick:e[2]||(e[2]=t=>d(o.value.current_page-1))},"Previous",8,J),(n(!0),c(y,null,m(w.value,t=>(n(),c("button",{key:t,class:V(["border px-3 py-1 rounded",{"bg-[#009FE8] text-white":t===o.value.current_page}]),onClick:i=>d(t)},g(t),11,K))),128)),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:o.value.current_page===o.value.last_page,onClick:e[3]||(e[3]=t=>d(o.value.current_page+1))},"Next",8,Q),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:o.value.current_page===o.value.last_page,onClick:e[4]||(e[4]=t=>d(o.value.last_page))},"End",8,U)])])]),_:1},8,["config"])}}};export{Z as default};
