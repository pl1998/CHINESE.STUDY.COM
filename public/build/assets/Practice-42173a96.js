import{_ as w}from"./App-22f5f58c.js";import{r as d,x as k,g as C,l as $,o as n,c as j,w as E,f as B,a as s,b as N,i as c,m as v,F as _,s as f,t as x,j as P}from"./app-a8c09ebb.js";const F={class:"pt-[88px]"},M={class:"bg-white"},T={class:"max-w-4xl mx-auto py-8 px-4"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},A=["src","onClick"],D={class:"mt-2 font-bold text-center"},H=["src"],O={class:"max-w-4xl mx-auto flex justify-center items-center gap-2 py-8"},q=["disabled"],z=["disabled"],I=["onClick"],L=["disabled"],R=["disabled"],J={__name:"Practice",props:{config:{type:Object,required:!0}},setup(b){const p=d([]),r=d({current_page:1,last_page:1,per_page:6,total:0}),l=k({}),i=d(null),g=async(a=1)=>{const e=await B.get(`/api/course-practices?page=${a}&per_page=${r.value.per_page}`);p.value=e.data.data,r.value={current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page,total:e.data.total}};C(()=>g());const u=a=>{a<1||a>r.value.last_page||g(a)},m=a=>{Object.keys(l).forEach(t=>{l[t]&&t!=a&&(l[t].pause(),l[t].currentTime=0)});const e=l[a];e&&(i.value===a?(e.pause(),i.value=null):(e.play(),i.value=a))},y=$(()=>{const a=r.value.last_page,e=r.value.current_page;if(a<=7)return Array.from({length:a},(o,h)=>h+1);const t=[];e>3&&t.push(1),e>4&&t.push("...");for(let o=Math.max(1,e-1);o<=Math.min(a,e+1);o++)t.push(o);return e<a-3&&t.push("..."),e<a-2&&t.push(a),t});return(a,e)=>(n(),j(w,{config:b.config},{default:E(()=>[s("div",F,[s("div",M,[e[5]||(e[5]=s("div",{class:"w-full"},[s("img",{src:"/images/banner/pratice.jpg",alt:"Brander",class:"w-full h-56 object-cover"})],-1)),e[6]||(e[6]=s("div",{class:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-8 px-4"},[s("div",{class:"w-full bg-[#f7f7f7] py-2 px-4 text-sm text-gray-600"},[N(" Home >> "),s("span",{class:"text-[#009FE8]"},"1Daily Practice")])],-1)),s("div",T,[s("div",V,[(n(!0),c(_,null,v(p.value,t=>(n(),c("div",{key:t.id,class:"flex flex-col items-center"},[s("img",{src:t.cover,alt:"cover",class:f(["w-80 h-48 object-cover rounded shadow cursor-pointer transition-all duration-200",i.value===t.id?"ring-4 ring-blue-400 scale-105":""]),onClick:o=>m(t.id)},null,10,A),s("div",D,x(t.name),1),t.audio?(n(),c("audio",{key:0,ref_for:!0,ref:o=>{o?l[t.id]=o:delete l[t.id]},src:t.audio,onEnded:e[0]||(e[0]=o=>i.value=null),style:{display:"none"}},null,40,H)):P("",!0)]))),128))])]),s("div",O,[s("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:r.value.current_page===1,onClick:e[1]||(e[1]=t=>u(1))},"Home",8,q),s("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:r.value.current_page===1,onClick:e[2]||(e[2]=t=>u(r.value.current_page-1))},"Previous",8,z),(n(!0),c(_,null,v(y.value,t=>(n(),c("button",{key:t,class:f(["border px-3 py-1 rounded",{"bg-[#009FE8] text-white":t===r.value.current_page}]),onClick:o=>u(t)},x(t),11,I))),128)),s("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:r.value.current_page===r.value.last_page,onClick:e[3]||(e[3]=t=>u(r.value.current_page+1))},"Next",8,L),s("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:r.value.current_page===r.value.last_page,onClick:e[4]||(e[4]=t=>u(r.value.last_page))},"End",8,R)])])])]),_:1},8,["config"]))}};export{J as default};
