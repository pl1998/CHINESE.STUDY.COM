import{Q as H,r as i,q as B,h as be,n as ye,o as l,c as ge,w as we,u as x,a as e,t as o,i as a,j as f,k as h,F as g,f as v,s as P,v as S,x as z,e as he,b as ke,z as _e,d as W,g as Q,m as A,p as Ce}from"./app-96ab6e91.js";import{_ as Se,S as Z}from"./App-ab55e045.js";const Ne={class:"min-h-screen bg-white"},Te={class:"pt-[88px]"},De={class:"w-full bg-[#eaf2f3] py-12 mt-30"},qe={class:"max-w-6xl mx-auto flex flex-col md:flex-row gap-8 px-4"},Ue={class:"flex-1 flex flex-col justify-center"},Ve={class:"text-[40px] md:text-[56px] leading-tight font-bold mb-6 text-[#2d3a4a]"},je={class:"w-full h-64 bg-white flex items-center justify-center border border-gray-200 rounded mb-6"},Ie=["src","alt"],$e={class:"flex-1 flex flex-col justify-center"},Ee={class:"text-[#2d3a4a] font-semibold mb-2 text-base"},Me=["innerHTML"],Ae={class:"w-full bg-cover bg-center py-16",style:{"background-image":"url('/images/lesson_bg.png')"}},Be={class:"max-w-6xl mx-auto px-4"},Pe={class:"grid md:grid-cols-3 gap-8 text-white"},Re=["onClick"],Le={class:"w-full max-w-4xl flex shadow-lg rounded-lg overflow-hidden bg-white"},Fe={class:"w-64 bg-[#1a2950] text-white py-8 px-4 flex flex-col gap-4"},Oe=["innerHTML"],Ye={key:1,class:"ml-auto text-xs text-[#a0e0ff]"},He={key:2,class:"ml-auto text-green-400"},ze={class:"flex-1 bg-white p-8 min-h-[500px]"},We={key:0},Qe={class:"flex items-center gap-4 mb-6"},Ze=["value"],Ge=["value"],Je={class:"grid grid-cols-7 gap-2 text-center"},Ke=["disabled","onClick"],Xe={class:"mt-8 flex justify-end"},et=["disabled"],tt={key:1},st={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},lt=["onClick"],at={key:2},ot={class:"flex items-center gap-4 mb-4"},nt={class:"mb-4"},it={class:"ml-4"},rt=["disabled"],dt={class:"ml-4"},ut=["disabled"],vt={key:3},ct={key:0,class:"text-red-500 text-xs mt-1"},mt={key:0,class:"text-red-500 text-xs mt-1"},pt={key:0,class:"text-red-500 text-xs mt-1"},xt={key:0,class:"text-red-500 text-xs mt-1"},ft={key:4},bt={class:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto mb-8 border border-gray-100"},yt={class:"grid grid-cols-2 gap-x-6 gap-y-3 mb-6"},gt={class:"font-medium text-gray-800"},wt={class:"font-medium text-gray-800"},ht={class:"col-span-2"},kt={class:"font-medium text-gray-800"},_t={class:"grid grid-cols-2 gap-x-6 gap-y-3 mb-6"},Ct={class:"font-medium text-gray-800"},St={class:"font-medium text-gray-800"},Nt={class:"col-span-2"},Tt={class:"font-medium text-gray-800"},Dt={class:"flex items-center justify-between border-t pt-4 mt-2"},qt={class:"text-2xl font-extrabold text-[#3487fe]"},Ut={key:5,class:"flex flex-col items-center justify-center h-full"},Vt={class:"mb-2"},Mt={__name:"HskLesson",setup(jt){const{lesson:w}=H().props,{config:G}=H().props,J=[{key:"date",label:"Date & Time",icon:"📅"},{key:"time",label:"Select Time",icon:"⏰"},{key:"repeat",label:"Recurring Appointment",icon:"🔁"},{key:"info",label:"Your Information",icon:"👤"},{key:"confirm",label:"Payments",icon:"💳"}],u=i(0),K=i(5),I=new Date,k=i(I.getFullYear()),_=i(I.getMonth()),b=i(""),X=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],ee=Array.from({length:2},(d,t)=>I.getFullYear()+t),te=["周一","周二","周三","周四","周五","周六","周日"];function se(){const d=new Date(k.value,_.value,1),t=new Date(k.value,_.value+1,0),s=(d.getDay()+6)%7,r=[];for(let p=0;p<s;p++)r.push(null);for(let p=1;p<=t.getDate();p++){const xe=`${k.value}-${String(_.value+1).padStart(2,"0")}-${String(p).padStart(2,"0")}`,fe=new Date(k.value,_.value,p)<=I;r.push({day:p,date:xe,disabled:fe})}return r}const le=B(se);function ae(d){b.value=d}const oe=["12:00 - 13:00","12:30 - 13:30","13:00 - 14:00","15:00 - 16:00","15:30 - 16:30","16:00 - 17:00","16:30 - 17:30","17:00 - 18:00","17:30 - 18:30","18:30 - 19:30","18:00 - 19:00","19:30 - 20:30","21:00 - 22:00","21:30 - 22:30","22:00 - 23:00","22:30 - 23:00"],c=i("");function ne(d){c.value=d}const N=i(1),T=i("day"),m=i("count"),D=i(""),q=i(1),R=B(()=>m.value==="date"&&D.value?`Repeat every ${N.value} ${T.value}(s) until ${D.value}`:`Repeat every ${N.value} ${T.value}(s), ${q.value} times`),n=i({firstName:"",lastName:"",email:"",phone:""}),U=i(""),V=i(""),C=i(""),y=i(""),j=i(""),ie={showDialCode:!0,placeholder:"Enter your phone number",defaultCountry:"cn"},re=["cn","us","gb","au"];function de(d,t){if(!t){y.value="Invalid phone number",j.value="";return}t.valid?y.value="":y.value="Invalid phone number",console.log("info:",t),t.country&&t.country.dialCode?j.value=`+${t.country.dialCode}`:t.dialCode?j.value=`+${t.dialCode}`:j.value=""}function ue(){return U.value="",V.value="",C.value="",y.value="",n.value.firstName||(U.value="First name is required"),n.value.lastName||(V.value="Last name is required"),n.value.email?/^[\w\-\.]+@[\w\-]+\.[\w\-]+$/.test(n.value.email)||(C.value="Invalid email format"):C.value="Email is required",n.value.phone||(y.value="Phone is required"),!U.value&&!V.value&&!C.value&&!y.value}const L=B(()=>50*(m.value==="count"?q.value:1));function $(){u.value<5&&u.value++}function E(){u.value>0&&u.value--}function F(){ue()&&$()}async function ve(){const d={course_id:w.id,first_name:n.value.firstName,last_name:n.value.lastName,email:n.value.email,phone:n.value.phone,phone_dial_code:j.value,start_time:b.value+" "+(c.value?c.value.split(" - ")[0]:""),end_time:b.value+" "+(c.value?c.value.split(" - ")[1]:""),repeat:R.value,pay_price:L.value};try{const s=(await Q.post("/api/course-reservation",d)).data.order_no,r=await Q.post("/api/paypal/pay",{order_no:s});r.data.paypal_url?window.location.href=r.data.paypal_url:Z.fire({icon:"error",title:"Payment failed",text:"Failed to obtain the payment link"})}catch{Z.fire({icon:"error",title:"Operation failure",text:"The reservation or payment failed. Please try again"})}}function ce(){u.value=0,b.value="",c.value="",N.value=1,T.value="day",m.value="count",D.value="",q.value=1,n.value={firstName:"",lastName:"",email:"",phone:""}}const O=i(null);function Y(){var d;(d=O.value)==null||d.scrollIntoView({behavior:"smooth"})}be(()=>{new URLSearchParams(window.location.search).get("step")==6&&(u.value=5,ye(()=>{Y()}))});const me=[{question:"Who are these lessons ideal for?",answer:"These lessons are perfect for travelers, expatriates, or anyone who needs to quickly acquire basic Chinese language skills for everyday situations."},{question:"What kind of topics will I learn in Survival Chinese?",answer:"You'll learn essential phrases and vocabulary for daily life, such as ordering food, asking for directions, shopping, and basic greetings."},{question:"How fast can I expect to learn the basics?",answer:"With regular practice, most students can grasp the essentials within a few weeks, making them comfortable with basic interactions in Chinese."},{question:"Do I need prior Chinese knowledge to take these lessons?",answer:"No prior knowledge is required. These lessons are designed for complete beginners who want to quickly acquire practical language skills."},{question:"Will I learn any cultural tips along with the language?",answer:"Yes, our lessons include cultural insights to help you navigate social situations and understand local customs better."},{question:"Can these lessons be customized for specific travel needs?",answer:"Absolutely! We can tailor the lessons to focus on scenarios you are likely to encounter, such as hotel check-ins, transportation, and emergency situations."}],M=i(null),pe=d=>{M.value=M.value===d?null:d};return(d,t)=>(l(),ge(Se,{config:x(G)},{default:we(()=>[e("div",Ne,[e("div",Te,[e("div",De,[e("div",qe,[e("div",Ue,[t[12]||(t[12]=e("div",{class:"text-[#6b7a8f] text-xs mb-2 tracking-widest"},"YOUR PATH TO FLUENCY",-1)),e("div",Ve,o(x(w).name),1),e("div",je,[x(w).detail_image?(l(),a("img",{key:0,src:x(w).detail_image,alt:x(w).name,class:"w-auto h-full object-contain rounded-lg"},null,8,Ie)):f("",!0)]),e("button",{class:"bg-[#6ec1e4] text-white px-8 py-2 rounded font-semibold hover:bg-[#009FE8] transition text-lg shadow-md",onClick:Y},"book now")]),e("div",$e,[e("div",Ee,o(x(w).description),1),e("div",{class:"text-gray-700 text-sm leading-relaxed prose max-w-none",innerHTML:x(w).content},null,8,Me)])])]),e("div",Ae,[e("div",Be,[t[14]||(t[14]=e("div",{class:"text-center text-white text-lg mb-2 tracking-widest"},"FAQ",-1)),t[15]||(t[15]=e("div",{class:"text-center text-white text-5xl font-bold mb-12 tracking-wider"},"QUESTIONS",-1)),e("div",Pe,[(l(),a(g,null,h(me,(s,r)=>e("div",{key:s.question,class:"mb-4"},[e("div",{class:"font-bold pt-5 pb-5 text-base flex items-center cursor-pointer select-none border-t border-b border-white",onClick:p=>pe(r)},[e("span",null,o(s.question),1),(l(),a("svg",{class:A(["ml-2 transition-transform",M.value===r?"rotate-180":"rotate-0"]),width:"20",height:"20",fill:"currentColor",viewBox:"0 0 20 20"},t[13]||(t[13]=[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.24 4.4a.75.75 0 01-1.08 0l-4.24-4.4a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)]),2))],8,Re),v(e("div",{class:"text-sm transition-all duration-300 pt-5 pb-5"},o(s.answer),513),[[Ce,M.value===r]])])),64))])])]),t[44]||(t[44]=e("section",{class:"w-full border"},[e("div",{class:"max-w-3xl mx-auto flex flex-col items-center justify-center py-16"},[e("svg",{class:"w-14 h-14 text-[#22336a] mb-4",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor",fill:"none"}),e("path",{d:"M16 3v4M8 3v4M3 9h18",stroke:"currentColor"})]),e("h1",{class:"text-4xl md:text-5xl font-extrabold text-[#1a2233] text-center mb-2"}," Book a Survival Chinese lesson now "),e("div",{class:"text-xl font-semibold text-[#1a2233] text-center mb-6"}," (1 hr/50 USD) "),e("p",{class:"text-lg text-[#2d3a4a] text-center max-w-2xl"}," Scheduling your lesson is easy with my user-friendly online calendar. Simply choose a time that fits your schedule and begin your learning journey right away! After booking, you'll receive an email with payment instructions. A Zoom link will be sent separately before your lesson begins. ")])],-1)),e("section",{ref_key:"bookingSectionRef",ref:O,class:"flex justify-center items-start py-16 bg-white"},[e("div",Le,[e("div",Fe,[(l(),a(g,null,h(J,(s,r)=>e("div",{key:s.key,class:A(["flex items-center gap-2 py-3 px-2 rounded transition",{"bg-[#22336a] font-bold":u.value===r,"opacity-60":r>K.value}])},[s.icon?(l(),a("span",{key:0,innerHTML:s.icon,class:"text-xl"},null,8,Oe)):f("",!0),e("span",null,o(s.label),1),s.info?(l(),a("span",Ye,o(s.info),1)):f("",!0),s.done?(l(),a("span",He,"✔")):f("",!0)],2)),64))]),e("div",ze,[u.value===0?(l(),a("div",We,[t[17]||(t[17]=e("div",{class:"text-xl font-bold mb-4"},"Date & Time",-1)),e("div",Qe,[v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),class:"border rounded px-2 py-1"},[(l(),a(g,null,h(X,(s,r)=>e("option",{key:r,value:r},o(s),9,Ze)),64))],512),[[P,_.value]]),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),class:"border rounded px-2 py-1"},[(l(!0),a(g,null,h(x(ee),s=>(l(),a("option",{key:s,value:s},o(s),9,Ge))),128))],512),[[P,k.value]]),t[16]||(t[16]=e("span",{class:"text-xs text-gray-500"},"Asia/Shanghai",-1))]),e("div",Je,[(l(),a(g,null,h(te,s=>e("div",{key:s,class:"font-semibold text-gray-600"},o(s),1)),64)),(l(!0),a(g,null,h(le.value,s=>(l(),a(g,null,[s?(l(),a("button",{key:s.date,class:A(["py-2 rounded transition border",{"bg-[#eaf2f3] text-gray-400 cursor-not-allowed":s.disabled,"bg-[#3487fe] text-white font-bold border-[#3487fe]":b.value===s.date,"hover:bg-[#eaf2f3]":!s.disabled&&b.value!==s.date}]),disabled:s.disabled,onClick:r=>ae(s.date)},o(s.day),11,Ke)):(l(),a("div",{key:Math.random()}))],64))),256))]),e("div",Xe,[e("button",{class:"px-6 py-2 bg-[#3487fe] text-white rounded",disabled:!b.value,onClick:$},"Continue",8,et)])])):u.value===1?(l(),a("div",tt,[t[18]||(t[18]=e("div",{class:"text-xl font-bold mb-4"},"Select Time Slot",-1)),e("div",st,[(l(),a(g,null,h(oe,s=>e("button",{key:s,class:A(["py-2 rounded border transition",{"bg-[#3487fe] text-white font-bold border-[#3487fe]":c.value===s,"hover:bg-[#eaf2f3]":c.value!==s}]),onClick:r=>ne(s)},o(s),11,lt)),64))]),e("div",{class:"mt-8 flex justify-between"},[e("button",{class:"px-6 py-2 border rounded",onClick:E},"Back"),e("button",{class:"px-6 py-2 bg-[#3487fe] text-white rounded",onClick:$},"Continue")])])):u.value===2?(l(),a("div",at,[t[25]||(t[25]=e("div",{class:"text-xl font-bold mb-4"},"Recurring Appointment",-1)),e("div",ot,[t[20]||(t[20]=e("span",null,"Repeat every",-1)),v(e("input",{type:"number",min:"1","onUpdate:modelValue":t[2]||(t[2]=s=>N.value=s),class:"border rounded px-2 py-1 w-16"},null,512),[[S,N.value,void 0,{number:!0}]]),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>T.value=s),class:"border rounded px-2 py-1"},t[19]||(t[19]=[e("option",{value:"day"},"day",-1),e("option",{value:"week"},"week",-1)]),512),[[P,T.value]])]),e("div",nt,[t[24]||(t[24]=e("span",null,"Ends:",-1)),e("label",it,[v(e("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=s=>m.value=s),value:"date"},null,512),[[z,m.value]]),t[21]||(t[21]=e("span",{class:"ml-1"},"On",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=s=>D.value=s),disabled:m.value!=="date",class:"border rounded px-2 py-1 ml-2"},null,8,rt),[[S,D.value]])]),e("label",dt,[v(e("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=s=>m.value=s),value:"count"},null,512),[[z,m.value]]),t[22]||(t[22]=e("span",{class:"ml-1"},"After",-1)),v(e("input",{type:"number",min:"1","onUpdate:modelValue":t[7]||(t[7]=s=>q.value=s),disabled:m.value!=="count",class:"border rounded px-2 py-1 ml-2 w-16"},null,8,ut),[[S,q.value,void 0,{number:!0}]]),t[23]||(t[23]=e("span",{class:"ml-1"},"Occurrences",-1))])]),e("div",{class:"mt-8 flex justify-between"},[e("button",{class:"px-6 py-2 border rounded",onClick:E},"Back"),e("button",{class:"px-6 py-2 bg-[#3487fe] text-white rounded",onClick:$},"Continue")])])):u.value===3?(l(),a("div",vt,[t[30]||(t[30]=e("div",{class:"text-xl font-bold mb-4"},"Your Information",-1)),e("form",{onSubmit:he(F,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[t[26]||(t[26]=e("label",{class:"block mb-1 font-semibold"},"First Name *",-1)),v(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.value.firstName=s),class:"border rounded px-2 py-1 w-full",required:""},null,512),[[S,n.value.firstName]]),U.value?(l(),a("div",ct,o(U.value),1)):f("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block mb-1 font-semibold"},"Last Name *",-1)),v(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>n.value.lastName=s),class:"border rounded px-2 py-1 w-full",required:""},null,512),[[S,n.value.lastName]]),V.value?(l(),a("div",mt,o(V.value),1)):f("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block mb-1 font-semibold"},"Email *",-1)),v(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>n.value.email=s),type:"email",class:"border rounded px-2 py-1 w-full",required:""},null,512),[[S,n.value.email]]),C.value?(l(),a("div",pt,o(C.value),1)):f("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block mb-1 font-semibold"},"Phone",-1)),ke(x(_e),{modelValue:n.value.phone,"onUpdate:modelValue":t[11]||(t[11]=s=>n.value.phone=s),inputoptions:ie,"preferred-countries":re,"show-search-box":!0,class:"w-full",onValidate:de},null,8,["modelValue"]),y.value?(l(),a("div",xt,o(y.value),1)):f("",!0)])],32),e("div",{class:"mt-8 flex justify-between"},[e("button",{class:"px-6 py-2 border rounded",onClick:E},"Back"),e("button",{class:"px-6 py-2 bg-[#3487fe] text-white rounded",onClick:F},"Continue")])])):u.value===4?(l(),a("div",ft,[t[40]||(t[40]=e("div",{class:"text-2xl font-extrabold mb-6 text-[#22336a] text-center tracking-wide"},"Order Confirmation",-1)),e("div",bt,[t[38]||(t[38]=e("div",{class:"flex items-center justify-between mb-6 pb-2 border-b"},[e("span",{class:"font-semibold text-gray-600"},"Service"),e("span",{class:"font-bold text-[#3487fe]"},"Survival Chinese Lesson")],-1)),e("div",yt,[e("div",null,[t[31]||(t[31]=e("div",{class:"text-xs text-gray-400"},"Date",-1)),e("div",gt,o(b.value),1)]),e("div",null,[t[32]||(t[32]=e("div",{class:"text-xs text-gray-400"},"Time",-1)),e("div",wt,o(c.value),1)]),e("div",ht,[t[33]||(t[33]=e("div",{class:"text-xs text-gray-400"},"Repeat",-1)),e("div",kt,o(R.value),1)])]),e("div",_t,[e("div",null,[t[34]||(t[34]=e("div",{class:"text-xs text-gray-400"},"Name",-1)),e("div",Ct,o(n.value.firstName)+" "+o(n.value.lastName),1)]),e("div",null,[t[35]||(t[35]=e("div",{class:"text-xs text-gray-400"},"Email",-1)),e("div",St,o(n.value.email),1)]),e("div",Nt,[t[36]||(t[36]=e("div",{class:"text-xs text-gray-400"},"Phone",-1)),e("div",Tt,o(n.value.phone),1)])]),e("div",Dt,[t[37]||(t[37]=e("span",{class:"text-lg font-bold text-[#22336a]"},"Total",-1)),e("span",qt,"$"+o(L.value),1)])]),e("div",{class:"flex justify-center mb-4"},[e("button",{class:"flex items-center gap-2 px-8 py-2 bg-[#3487fe] text-white rounded font-bold shadow hover:bg-blue-700 transition",onClick:ve},t[39]||(t[39]=[e("i",{class:"fab fa-paypal text-2xl"},null,-1),W(" Pay with PayPal ")]))]),e("div",{class:"flex justify-between max-w-lg mx-auto"},[e("button",{class:"px-6 py-2 border rounded",onClick:E},"Back")])])):u.value===5?(l(),a("div",Ut,[t[42]||(t[42]=e("div",{class:"text-3xl font-bold text-[#3487fe] mb-4"},"Congratulations",-1)),t[43]||(t[43]=e("div",{class:"mb-2"},"Your appointment has been booked successfully!",-1)),e("div",Vt,[t[41]||(t[41]=W("A confirmation email has been sent to ")),e("b",null,o(n.value.email),1)]),e("button",{class:"mt-6 px-8 py-2 bg-[#3487fe] text-white rounded",onClick:ce},"Book Another")])):f("",!0)])])],512)])])]),_:1},8,["config"]))}};export{Mt as default};
