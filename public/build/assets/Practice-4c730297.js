import{_ as h}from"./App-75f3e23b.js";import{r as d,x as k,h as w,l as C,o as n,c as $,w as j,g as E,a as r,b as N,d as P,j as c,m as _,F as v,t as f,k as B,s as F}from"./app-330e85c2.js";import{_ as V}from"./Banner-8ab827b6.js";const M={class:"bg-white pt-[112px]"},T={class:"w-full"},A={class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 py-8 px-4"},D=["src","onClick"],H={class:"absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white text-center px-4"},O={class:"text-2xl font-bold mb-2"},S=["src"],q={class:"max-w-4xl mx-auto flex justify-center items-center gap-2 py-8"},z=["disabled"],I=["disabled"],L=["onClick"],R=["disabled"],G=["disabled"],U={__name:"Practice",props:{config:{type:Object,required:!0}},setup(b){const p=d([]),s=d({current_page:1,last_page:1,per_page:6,total:0}),l=k({}),u=d(null),g=async(a=1)=>{const e=await E.get(`/api/course-practices?page=${a}&per_page=${s.value.per_page}`);p.value=e.data.data,s.value={current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page,total:e.data.total}};w(()=>g());const i=a=>{a<1||a>s.value.last_page||g(a)},x=a=>{Object.keys(l).forEach(t=>{l[t]&&t!=a&&(l[t].pause(),l[t].currentTime=0)});const e=l[a];e&&(u.value===a?(e.pause(),u.value=null):(e.play(),u.value=a))},m=C(()=>{const a=s.value.last_page,e=s.value.current_page;if(a<=7)return Array.from({length:a},(o,y)=>y+1);const t=[];e>3&&t.push(1),e>4&&t.push("...");for(let o=Math.max(1,e-1);o<=Math.min(a,e+1);o++)t.push(o);return e<a-3&&t.push("..."),e<a-2&&t.push(a),t});return(a,e)=>(n(),$(h,{config:b.config},{default:j(()=>[r("div",M,[r("div",T,[N(V,{imageSrc:"/images/banner/pratice.jpg",alt:"Practice Banner"})]),e[5]||(e[5]=r("div",{class:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-8 px-4"},[r("div",{class:"w-full bg-[#f7f7f7] py-2 px-4 text-sm text-gray-600"},[P(" Home >> "),r("span",{class:"text-[#009FE8]"},"1Daily Practice")])],-1)),r("div",A,[(n(!0),c(v,null,_(p.value,t=>(n(),c("div",{key:t.id,class:"relative group border-2 border-white hover:border-[#009FE8] transition rounded block"},[r("img",{src:t.cover,alt:"cover",class:"w-full h-56 object-cover rounded",onClick:o=>x(t.id)},null,8,D),r("div",H,[r("div",O,f(t.name),1)]),t.audio?(n(),c("audio",{key:0,ref_for:!0,ref:o=>{o?l[t.id]=o:delete l[t.id]},src:t.audio,onEnded:e[0]||(e[0]=o=>u.value=null),style:{display:"none"}},null,40,S)):B("",!0)]))),128))]),r("div",q,[r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:s.value.current_page===1,onClick:e[1]||(e[1]=t=>i(1))},"Home",8,z),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:s.value.current_page===1,onClick:e[2]||(e[2]=t=>i(s.value.current_page-1))},"Previous",8,I),(n(!0),c(v,null,_(m.value,t=>(n(),c("button",{key:t,class:F(["border px-3 py-1 rounded",{"bg-[#009FE8] text-white":t===s.value.current_page}]),onClick:o=>i(t)},f(t),11,L))),128)),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:s.value.current_page===s.value.last_page,onClick:e[3]||(e[3]=t=>i(s.value.current_page+1))},"Next",8,R),r("button",{class:"border px-3 py-1 rounded hover:bg-gray-100",disabled:s.value.current_page===s.value.last_page,onClick:e[4]||(e[4]=t=>i(s.value.last_page))},"End",8,G)])])]),_:1},8,["config"]))}};export{U as default};
