import{y as K,A as Q,D as ee,E as te,G as se,H as oe,I as ne,J as ae,K as le,r as h,Q as ie,B as X,L as re,o as f,c as de,w as ue,a as e,b as S,u as r,M,d as $,t as l,N as A,i as p,j as v,e as B,f as g,v as _,k as ce,F as me,O as fe,g as q}from"./app-77c50d49.js";import{_ as pe,S as z}from"./App-ec09f112.js";const ve=(w,k)=>{const c=w.__vccOpts||w;for(const[i,n]of k)c[i]=n;return c},xe={class:"pt-[112px]"},be={class:"w-full bg-black flex flex-col items-center justify-center py-12 px-0 relative",style:{"min-height":"320px"}},he={class:"w-full max-w-5xl flex flex-col md:flex-row items-start md:items-center justify-between px-0 md:px-8"},ge={class:"flex-1 min-w-0 md:pl-8"},we={class:"flex items-center gap-2 mb-2 text-sm"},ye={class:"text-white/80 flex items-center"},_e={class:"text-white/80"},ke={class:"text-white text-4xl md:text-5xl font-bold mb-2 mt-2",style:{"letter-spacing":"0.5px"}},Ee={class:"text-blue-400 text-2xl md:text-3xl font-bold mb-4"},Ce={class:"w-full md:w-[340px] flex-shrink-0 mt-8 md:mt-0 flex justify-center md:justify-end pr-0 md:pr-8"},Le={class:"w-[320px] h-[160px] bg-gray-200 rounded border-2 border-white/30 flex items-center justify-center overflow-hidden"},Se={class:"text-gray-400"},Me=["src"],Pe={class:"bg-white min-h-screen py-8 px-4 max-w-3xl mx-auto",style:{"margin-top":"-50px",position:"relative","z-index":"2","box-shadow":"0 8px 24px 0 rgba(0,0,0,0.04)"}},Te={class:"bg-50 p-4 rounded mb-6"},Fe=["innerHTML"],Ve={class:"flex items-center gap-3 mb-6"},Xe={class:"text-lg font-semibold"},Ae=["src"],Be={key:0,class:"w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow cursor-pointer"},De={key:0,class:"flex justify-between text-xs text-gray-500 mb-6"},Ue={class:"bg-blue-50 border border-blue-200 rounded p-6 flex flex-col items-center mb-8"},Ne={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},je={class:"bg-white rounded-lg shadow-lg p-8 w-full max-w-xs relative"},$e={class:"rounded-2xl bg-white p-6 flex flex-col items-center shadow mb-6"},qe={class:"flex items-center gap-2 mb-2"},ze={class:"text-gray-400 line-through text-lg"},He={class:"text-orange-400 text-3xl font-bold"},Ie={key:0,class:"text-red-600 text-xs mt-1"},Re={key:0,class:"text-red-600 text-xs mt-1"},Ze={key:0,class:"text-red-600 text-xs mt-1"},We={class:"mb-6"},Oe={class:"flex gap-2 mb-2"},Ye=["href"],Ge=["href"],Je=["href"],Ke={class:"text-lg font-bold mb-4 mt-4"},Qe={class:"font-semibold text-pink-700"},et={class:"text-xs text-gray-400"},tt={class:"text-gray-700"},st={class:"mb-8"},ot={key:0,class:"text-red-600 text-xs mt-1"},nt={key:0,class:"text-red-600 text-xs mt-1"},at={key:0,class:"text-red-600 text-xs mt-1"},lt={key:0,class:"text-red-600 text-xs mt-1"},it={class:"flex items-center"},rt={__name:"PracticeDetail",props:{config:{type:Object,required:!0}},setup(w){K.add(Q,ee,te,se,oe,ne,ae,le);const k=h(!1),c=h(null),{practice:i}=ie().props,n=X({name:"",email:"",content:"",website:"",is_show:!0}),a=X({name:"",email:"",content:"",website:""});function H(s){return/^\S+@\S+\.\S+$/.test(s)}function I(){a.name="",a.email="",a.content="",a.website="";let s=!0;n.name?n.name.length>40&&(a.name="Name must be at most 40 characters.",s=!1):(a.name="Name is required.",s=!1),n.email?H(n.email)||(a.email="Email is invalid.",s=!1):(a.email="Email is required.",s=!1),n.content?n.content.length>2e3&&(a.content="Comment must be at most 2000 characters.",s=!1):(a.content="Comment is required.",s=!1),n.website&&n.website.length>255&&(a.website="Website must be at most 255 characters.",s=!1),s&&q.post("/api/course_practice_topic",{name:n.name,email:n.email,content:n.content,website:n.website,practice_id:i.id,is_show:n.is_show}).then(t=>{t.data.status==200&&(z.fire({icon:"success",title:"Success",text:"Your comment has been submitted!"}),n.name="",n.email="",n.content="",n.website="",n.is_show=!0)}).catch(t=>{z.fire({icon:"error",title:"Error",text:t.response.data.message})})}function R(){c.value&&(k.value?(c.value.pause(),k.value=!1):(c.value.play(),k.value=!0))}const m=h(0),P=h(0),T=h(0),D=h(0),C=h(!1);function Z(s){if(!C.value){const t=s.target.currentTime;P.value=t,m.value=s.target.duration,T.value=t/m.value*100}}function W(s){m.value=s.target.duration}function O(s){const t=s.target;if(t.buffered.length>0){const o=t.buffered.end(t.buffered.length-1);D.value=o/t.duration*100}}function Y(s){if(!c.value||!m.value)return;const t=s.target.getBoundingClientRect(),L=((s.type.startsWith("touch")?s.touches[0].clientX:s.clientX)-t.left)/t.width*100/100*m.value;c.value.currentTime=L}function U(s){!c.value||!m.value||(C.value=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",E),document.addEventListener("touchmove",y),document.addEventListener("touchend",E),y(s))}function y(s){var V;if(!C.value||!c.value||!m.value)return;const t=s.target.closest(".w-full");if(!t)return;const o=t.getBoundingClientRect();let b=(s.type.startsWith("touch")?((V=s.touches[0])==null?void 0:V.clientX)??0:s.clientX)-o.left;b=Math.max(0,Math.min(b,o.width));const L=b/o.width*100;T.value=L,P.value=L/100*m.value}function E(s){var j;if(!C.value||!c.value||!m.value)return;C.value=!1;const t=document.querySelector(".w-full.h-2");if(!t)return;const o=t.getBoundingClientRect();let b=(s.type.startsWith("touch")?((j=s.changedTouches[0])==null?void 0:j.clientX)??0:s.clientX)-o.left;b=Math.max(0,Math.min(b,o.width));const V=b/o.width*100/100*m.value;c.value.currentTime=V,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",E)}function N(s){if(!s&&s!==0)return"00:00";const t=Math.floor(s/60),o=Math.floor(s%60);return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}re(()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",E)});const F=h(!1),d=X({name:"",email:"",phone:""}),u=X({name:"",email:"",phone:""});function G(s){return/^\S+@\S+\.\S+$/.test(s)}async function J(){var t,o;u.name="",u.email="",u.phone="";let s=!0;if(d.name?d.name.length>20&&(u.name="Name must be at most 20 characters.",s=!1):(u.name="Name is required.",s=!1),d.email?G(d.email)||(u.email="Email is invalid.",s=!1):(u.email="Email is required.",s=!1),d.phone||(u.phone="Phone is required.",s=!1),!!s)try{const x=await q.post("/api/practice/paypal",{name:d.name,email:d.email,phone:d.phone,price:i.price,practice_id:i.id});x.data&&x.data.pay_url?window.location.href=x.data.pay_url:alert("支付接口异常")}catch(x){alert(((o=(t=x.response)==null?void 0:t.data)==null?void 0:o.message)||"支付失败")}}return(s,t)=>(f(),de(pe,{config:w.config},{default:ue(()=>[e("div",xe,[e("div",be,[e("div",he,[e("div",ge,[e("div",we,[e("span",ye,[S(r(M),{icon:["fas","bookmark"],class:"mr-1"}),t[12]||(t[12]=$("Beginner"))]),e("span",_e,"Fun, "+l(r(i).level_label.toUpperCase()),1)]),e("h1",ke,l(r(i).name),1),e("h2",Ee,l(r(i).zh_name),1),t[13]||(t[13]=e("div",{class:"flex gap-2 mb-0"},null,-1))]),e("div",Ce,[e("div",Le,[e("span",Se,[e("img",{src:r(i).cover,alt:"practice image"},null,8,Me)])])])])]),e("div",Pe,[e("div",Te,[e("div",{innerHTML:r(i).content},null,8,Fe)]),e("div",Ve,[e("button",{onClick:R,class:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl focus:outline-none"},[S(r(M),{icon:["fas",k.value?"pause":"volume-up"]},null,8,["icon"])]),e("span",Xe,l(r(i).name),1),e("audio",{ref_key:"audioRef",ref:c,src:r(i).audio,onTimeupdate:Z,onLoadedmetadata:W,onProgress:O},null,40,Ae)]),e("div",{class:"w-full h-2 bg-gray-300 rounded mb-1 relative cursor-pointer select-none",onMousedown:U,onTouchstart:U,onClick:t[0]||(t[0]=o=>Y(o))},[e("div",{class:"absolute top-0 left-0 h-2 bg-blue-200 rounded",style:A({width:D.value+"%"})},null,4),e("div",{class:"h-2 bg-green-400 rounded",style:A({width:T.value+"%"})},null,4),e("div",{class:"absolute top-0 left-0 h-2",style:A({left:T.value+"%",transform:"translateX(-50%)"})},[m.value>0?(f(),p("div",Be)):v("",!0)],4)],32),m.value>0?(f(),p("div",De,[e("span",null,l(N(P.value)),1),e("span",null,"-"+l(N(m.value-P.value)),1)])):v("",!0),e("div",Ue,[t[14]||(t[14]=e("div",{class:"text-4xl text-blue-400 mb-2"},[e("svg",{t:"1747460232124",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10727",width:"128",height:"128"},[e("path",{d:"M38.04 518.35a475.12 487.33 0 1 0 950.24 0 475.12 487.33 0 1 0-950.24 0Z",fill:"#07AA74","p-id":"10728"}),e("path",{d:"M513.16 18.75C258.74 18.75 52.5 224.99 52.5 479.41s206.25 460.66 460.66 460.66 460.66-206.25 460.66-460.66S767.58 18.75 513.16 18.75z m0 769.72c-170.69 0-309.06-138.37-309.06-309.06s138.37-309.06 309.06-309.06 309.06 138.37 309.06 309.06-138.37 309.06-309.06 309.06z",fill:"#56D8B0","p-id":"10729"}),e("path",{d:"M613.02 448.9c-1.48-0.15-2.97-0.22-4.48-0.22H459.7v-55.3c0-29.47 23.98-53.46 53.46-53.46s53.46 23.99 53.46 53.46v0.18c0 12.76 10.31 23.13 23.07 23.2 12.86 0.07 23.33-10.34 23.33-23.2v0.92c0-54.22-42.79-99.39-96.99-100.92-56.37-1.59-102.73 43.81-102.73 99.82v55.52c-23.44 2.26-41.92 22.17-41.92 46.18V618.9c0 25.52 20.88 46.4 46.4 46.4h190.75c25.52 0 46.4-20.88 46.4-46.4V495.08c0.01-24.01-18.47-43.91-41.91-46.18z m-84.49 125.17v23.8c0 8.49-6.88 15.37-15.37 15.37-8.49 0-15.37-6.88-15.37-15.37v-23.8c-13.46-5.91-22.85-19.36-22.85-35 0-21.11 17.11-38.22 38.22-38.22s38.23 17.11 38.23 38.22c0 15.63-9.4 29.08-22.86 35z",fill:"#FFFFFF","p-id":"10730"})])],-1)),t[15]||(t[15]=e("div",{class:"text-center text-blue-900 font-semibold mb-2"}," Logged-in premium members can access Exercises, Notes, Translation and Download Center ",-1)),e("a",{href:"#",class:"text-pink-600 font-bold",onClick:t[1]||(t[1]=B(o=>F.value=!0,["prevent"]))},"Learn more >>")]),F.value?(f(),p("div",Ne,[e("div",je,[e("button",{class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:t[2]||(t[2]=o=>F.value=!1)},"×"),e("div",$e,[t[16]||(t[16]=e("div",{class:"absolute right-0 top-0"},[e("span",{class:"bg-blue-600 text-white text-xs font-bold px-4 py-1 rounded-bl-lg rounded-tr-lg rotate-45 block",style:{position:"absolute",right:"-40px",top:"18px",width:"120px","text-align":"center",transform:"rotate(45deg)"}},"POPULAR")],-1)),t[17]||(t[17]=e("div",{class:"text-purple-700 font-bold text-2xl mb-1 mt-2"},"LIFETIME",-1)),t[18]||(t[18]=e("div",{class:"text-gray-500 mb-2"},"access forever!",-1)),e("div",qe,[e("span",ze,"$"+l(r(i).origin_price),1),e("span",He,"$"+l(r(i).price),1)]),t[19]||(t[19]=e("button",{class:"border border-orange-400 text-orange-400 rounded px-8 py-2 font-bold mt-2 mb-2 hover:bg-orange-50"},"SELECT",-1)),t[20]||(t[20]=e("div",{class:"text-xs text-gray-400"},"one-time payment",-1))]),t[22]||(t[22]=e("div",{class:"text-xs text-13 text-gray-600 mb-4 text-center"}," To subscribe to this course, please leave your email address and phone number. After successful payment, all the course content will be sent to your email. Please check your email in time! ",-1)),e("form",{class:"space-y-3",onSubmit:B(J,["prevent"])},[e("div",null,[g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>d.name=o),type:"text",class:"w-full border rounded p-2",placeholder:"Name"},null,512),[[_,d.name]]),u.name?(f(),p("div",Ie,l(u.name),1)):v("",!0)]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>d.email=o),type:"email",class:"w-full border rounded p-2",placeholder:"Email"},null,512),[[_,d.email]]),u.email?(f(),p("div",Re,l(u.email),1)):v("",!0)]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>d.phone=o),type:"text",class:"w-full border rounded p-2",placeholder:"Phone"},null,512),[[_,d.phone]]),u.phone?(f(),p("div",Ze,l(u.phone),1)):v("",!0)]),t[21]||(t[21]=e("button",{type:"submit",class:"w-full bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 rounded mt-2 flex items-center justify-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5"},[e("path",{d:"M22.5 6.5a2.5 2.5 0 0 0-2.5-2.5h-16A2.5 2.5 0 0 0 1.5 6.5v11A2.5 2.5 0 0 0 4 20h16a2.5 2.5 0 0 0 2.5-2.5v-11ZM4 5h16a1.5 1.5 0 0 1 1.5 1.5V8H2.5V6.5A1.5 1.5 0 0 1 4 5Zm16 14H4A1.5 1.5 0 0 1 2.5 17.5V9H21.5v8.5A1.5 1.5 0 0 1 20 19Z"}),e("path",{d:"M7.5 15.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0v2a.5.5 0 0 1-.5.5Zm3.5 0a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0v2a.5.5 0 0 1-.5.5Zm3.5 0a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0v2a.5.5 0 0 1-.5.5Z"})]),$(" PayPal ")],-1)),e("button",{type:"button",class:"w-full mt-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 rounded",onClick:t[6]||(t[6]=o=>F.value=!1)}," Close ")],32)])])):v("",!0),e("div",We,[e("div",Oe,[e("a",{class:"text-purple-400 hover:text-[#009FE8] transition-colors",href:w.config.instagram_url,target:"_blank"},[S(r(M),{icon:["fab","instagram"]})],8,Ye),e("a",{class:"text-black-400 hover:text-[#009FE8] transition-colors",href:w.config.tiktok_url,target:"_blank"},[S(r(M),{icon:["fab","tiktok"]})],8,Ge),e("a",{class:"text-red-400 hover:text-[#009FE8] transition-colors",href:w.config.youtube_url,target:"_blank"},[S(r(M),{icon:["fab","youtube"]})],8,Je)]),e("h3",Ke,l(r(i).topics.length)+" Comments",1),(f(!0),p(me,null,ce(r(i).topics,o=>(f(),p("div",{class:"mb-4 border-b pb-2",key:o.id},[e("div",Qe,l(o.name),1),e("div",et,l(o.created_at),1),e("div",tt,l(o.content),1)]))),128))]),e("div",st,[t[25]||(t[25]=e("h3",{class:"text-lg font-bold mb-2"},"Leave a Reply",-1)),e("form",{class:"space-y-4",onSubmit:B(I,["prevent"])},[e("div",null,[g(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=o=>n.content=o),class:"w-full border rounded p-2",rows:"4",placeholder:"Comment *"},null,512),[[_,n.content]]),a.content?(f(),p("div",ot,l(a.content),1)):v("",!0)]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>n.name=o),class:"w-full border rounded p-2",type:"text",placeholder:"Name"},null,512),[[_,n.name]]),a.name?(f(),p("div",nt,l(a.name),1)):v("",!0)]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>n.email=o),class:"w-full border rounded p-2",type:"email",placeholder:"Email"},null,512),[[_,n.email]]),a.email?(f(),p("div",at,l(a.email),1)):v("",!0)]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>n.website=o),class:"w-full border rounded p-2",type:"text",placeholder:"Website"},null,512),[[_,n.website]]),a.website?(f(),p("div",lt,l(a.website),1)):v("",!0)]),e("div",it,[g(e("input",{type:"checkbox",id:"isShow","onUpdate:modelValue":t[11]||(t[11]=o=>n.is_show=o),"true-value":"1","false-value":"0",class:"mr-2"},null,512),[[fe,n.is_show]]),t[23]||(t[23]=e("label",{for:"isShow",class:"text-sm"},"Save my name, email, and website in this browser for the next time I comment.",-1))]),t[24]||(t[24]=e("button",{type:"submit",class:"bg-pink-700 text-white px-4 py-2 rounded"},"Post Comment",-1))],32)])])])]),_:1},8,["config"]))}},ct=ve(rt,[["__scopeId","data-v-08d18a39"]]);export{ct as default};
